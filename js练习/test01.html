<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS | 练习</title>
    <style>
        table {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="test">
        <div class="testInner">
            测试文本
        </div>
        <!-- 动态创建表格 -->
        <div>
            <table border="1px" style="border-collapse:collapse">
                <thead>
                    <tr>
                        <th>姓名</th>
                        <th>学号</th>
                        <th>学科</th>
                        <th>分数</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody class="tbc" id="tbi">

                </tbody>
            </table>

        </div>
    </div>


    <script src="./common/common.js"></script>
    <script>
        //创建元素结点
        let div = document.createElement('div');
        //创建属性结点
        let attributes = document.createElement('class');
        //创建文本结点
        let textNode = document.createTextNode('Hello');

        // 获取类名位test的元素
        let test = my$('.test')[0]
        let testInner = my$('.testInner')[0]
        //为test增加孩子结点
        // test.appendChild(div);
        //为div结点增加textNode文本结点
        div.appendChild(textNode)
        //替换结点
        // test.replaceChild(div, testInner)
        // 插入结点
        // test.insertAfter(div, testInner);
        // test.removeChild(testInner);
        // 结点克隆
        testInner.addEventListener('click', function () {
            alert('Click!');
        })
        let cloneTestInner = testInner.cloneNode(true);
        test.appendChild(cloneTestInner)

        //判断元素有没有子结点
        cl$(testInner.hasChildNodes());//返回true
        cl$(testInner.contains(textNode));//返回false

        //动态创建表格
        //模拟后台传过来的数据
        let datas = [
            { name: '张三', xuehao: '20201213', xueke: '语文', score: '52' },
            { name: '李四', xuehao: '20201214', xueke: '数学', score: '85' },
            { name: '王五', xuehao: '20201215', xueke: '音乐', score: '35' },
            { name: '李六', xuehao: '20201216', xueke: '体育', score: '42' },
            { name: '赵七', xuehao: '20201217', xueke: '计算机组成原理', score: '75' }
        ];
        let tbi = document.getElementById('tbi');
        cl$(tbi)
        for (let i = 0; i < datas.length; i++) {
            let tr = document.createElement('tr');
            tbi.appendChild(tr);
            let data = datas[i]
            for (let k in data) {
                let td = document.createElement('td')
                tr.appendChild(td)
                td.innerText = data[k]
            }
        }
    </script>
</body>

</html>